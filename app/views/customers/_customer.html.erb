<div id="<%= dom_id customer %>" data-controller="clipboard">
  <div class="mb-6">
    <p class="font-bold text-2xl"><%= customer.name %></p>
    <div class="form-control">
      <div class="input-group input-group-sm">
        <%= text_field_tag :phone_number, customer.phone_number, {  readonly: true, class: "input input-bordered input-sm", data: { clipboard_target: :source } } %>
        <%= button_tag "Copy", type: :button, class: "btn btn-secondary btn-sm flex-grow", data: { action: "clipboard#copy" } %>
      </div>
    </div>
  </div>
  <% if @incompleted_notes.any? %>
    <h2 class="font-bold text-xl">Incompleted (<%= @incompleted_notes.count %>)</h2>
    <div class="flex flex-col divide-y">
      <% @incompleted_notes.each do |note| %>
        <%= render partial: "customers/note", locals: { note: note } %>
      <% end %>
    </div>
  <% end %>
  <% if @completed_notes.any? %>
    <h2 class="font-bold text-xl mt-12">Completed (<%= @completed_notes.count %>)</h2>
    <div class="flex flex-col divide-y text-gray-500">
      <% @completed_notes.each do |note| %>
        <%= render partial: "customers/note", locals: { note: note } %>
      <% end %>
    </div>
  <% end %>
</div>
